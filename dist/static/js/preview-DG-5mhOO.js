import{b as e}from"./@vueuse_core@12.8.2_typescript@5.5.4-CyTP3PVf.js";import{u as t}from"./index-D3YIdvZh.js";import"./store@2.0.12-BfN7CKDu.js";import"./comm-D8jqGG-6.js";import{C as a}from"./index-l1IOnGdE.js";import{x as s,z as o}from"./lodash-es@4.17.21-DuLBTDIG.js";import{E as r}from"./element-plus@2.10.2_vue@3.5.18_typescript@5.5.4_-C0B857f5.js";import{d as i,v as l,A as p,c as u,o as n,M as m,m as d,O as c,a as v,N as _,P as f,F as j,a0 as y,C as h,R as g,p as b}from"./@vue_runtime-core@3.5.18-Bx_iA1Ob.js";import{u as w}from"./vue-i18n@11.1.10_vue@3.5.18_typescript@5.5.4_-CsgNkmMV.js";import{v as x,y as V}from"./@vue_reactivity@3.5.18-BEjiziYi.js";import{P as k}from"./@vue_shared@3.5.18-BWKBh1Qo.js";import{_ as z}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-B6jvMh_s.js";import"./@vue_runtime-dom@3.5.18-D95plCo_.js";import"./mitt@3.0.1-BeZB7Ik_.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.18_typescript@5.5.4_-DPB-daMN.js";import"./vue-router@4.5.1_vue@3.5.18_typescript@5.5.4_-LCN95BWb.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.18_echarts@5.6.0_vue@3.5.18_typescript@5.5.4_-He2CYVXX.js";import"./echarts@5.6.0-D5a_RdwN.js";import"./tslib@2.3.0-ZseNXxlj.js";import"./zrender@5.6.1-BkMfNy7l.js";import"./axios@1.11.0-C-1G2k3o.js";import"./nprogress@0.2.0-Sg3Wh2FH.js";import"./chardet@2.1.0-B0E1a5C9.js";import"./@vueuse_shared@9.13.0_vue@3.5.18_typescript@5.5.4_-DyKSiD-b.js";import"./@vueuse_core@9.13.0_vue@3.5.18_typescript@5.5.4_-CQVfZnDR.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.18_typescript@5.5.4_-3DUFfuWD.js";import"./@sxzz_popperjs-es@2.11.7-CT_jBSb5.js";import"./@ctrl_tinycolor@3.6.1-D2oWfImC.js";import"./dayjs@1.11.13-DxKHiy_y.js";import"./async-validator@4.2.5-j0i5Y79Y.js";import"./memoize-one@6.0.0-BAtLgO95.js";import"./normalize-wheel-es@1.2.0-TzhA1irr.js";import"./@floating-ui_dom@1.7.2-CHufsicy.js";import"./@floating-ui_core@1.7.2-DWnBSKmT.js";import"./@floating-ui_utils@0.2.10-QZXVpxRV.js";import"./element-plus@2.10.4_vue@3.5.18_typescript@5.5.4_-BKZsM6nW.js";import"./@intlify_core-base@11.1.10-C1bgUhoS.js";import"./@intlify_shared@11.1.10-BEv--mwN.js";import"./@intlify_message-compiler@11.1.10-JI08Nz38.js";const C={class:"cl-editor-preview"},S={class:"cl-editor-preview__container"},$={key:1,class:"content"},B=i({name:"undefined"}),O=z(i({...B,name:"cl-editor-preview",props:{...a,modelValue:String,title:String,name:String,text:String,type:{type:String,default:"text"},showBtn:{type:Boolean,default:!0},height:{type:String,default:"60vh"},width:{type:String,default:"60%"},formatter:Function,tabs:Array,props:Object},setup(a,{expose:i}){const z=a,{refs:B,setRefs:O}=t(),{copy:U}=e(),{t:A}=w(),E=x(!1),F=x(""),J=x(),N=x(0),P=x([]),R=l(()=>"code"==z.type),q=l(()=>R),D=l(()=>({language:J.value,...z.props})),G=l(()=>z.title||(R.value?A("代码预览"):A("文本预览"))),I=l(()=>z.text||A("点击查看"));async function K(e){e||(e=z.modelValue),z.formatter&&(e=z.formatter(e)),z.tabs?(P.value=z.tabs,M(0)):L(e),E.value=!0}function L(e){s(e)?F.value=e:o(e)&&(F.value=JSON.stringify(e,null,4))}async function M(e){var t,a;const s=P.value[e];J.value=s.language,L(s.data),await b(),R.value&&(null==(a=null==(t=B.editor)?void 0:t.formatCode)||a.call(t))}function T(){E.value=!1}function H(){U(F.value),r.success(A("复制成功"))}return i({open:K,close:T}),(e,t)=>{const s=p("el-button"),o=p("el-tab-pane"),r=p("el-tabs"),i=p("cl-editor"),l=p("cl-dialog");return n(),u(j,null,[m(e.$slots,"default",{},()=>[a.showBtn?(n(),_(s,{key:0,onClick:t[0]||(t[0]=e=>K())},{default:c(()=>[g(k(I.value),1)]),_:1})):f("",!0)],!0),d(l,{modelValue:E.value,"onUpdate:modelValue":t[3]||(t[3]=e=>E.value=e),height:a.height,width:a.width,title:G.value,scrollbar:"","append-to-body":""},{footer:c(()=>[d(s,{onClick:T},{default:c(()=>[g(k(e.$t("关闭")),1)]),_:1}),q.value?(n(),_(s,{key:0,type:"success",onClick:H},{default:c(()=>[g(k(e.$t("复制")),1)]),_:1})):f("",!0)]),default:c(()=>[v("div",C,[P.value.length>1?(n(),_(r,{key:0,modelValue:N.value,"onUpdate:modelValue":t[1]||(t[1]=e=>N.value=e),type:"card",onTabChange:M},{default:c(()=>[(n(!0),u(j,null,y(P.value,(e,t)=>(n(),_(o,{key:t,label:e.name,name:t,lazy:0!=t},null,8,["label","name","lazy"]))),128))]),_:1},8,["modelValue"])):f("",!0),v("div",S,[m(e.$slots,"prepend",{},void 0,!0),a.name?(n(),_(i,h({ref:V(O)("editor"),key:N.value},D.value,{modelValue:F.value,"onUpdate:modelValue":t[2]||(t[2]=e=>F.value=e),name:`cl-editor-${a.name}`,height:"100%",preview:""}),null,16,["modelValue","name"])):(n(),u("div",$,k(F.value),1)),m(e.$slots,"append",{},void 0,!0)])])]),_:3},8,["modelValue","height","width","title"])],64)}}}),[["__scopeId","data-v-62696faa"]]);export{O as default};
