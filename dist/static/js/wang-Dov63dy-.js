import{T as e,E as o}from"./@wangeditor_editor-for-vue@5.1.12_@wangeditor_editor@5.1.23_vue@3.5.18_typescript@5.5.4_-BRtfigo2.js";import{u as t,p as s}from"./index-D3YIdvZh.js";import"./@wangeditor_editor@5.1.23-l2KtucWt.js";import{y as i}from"./lodash-es@4.17.21-DuLBTDIG.js";import{d as r,w as a,U as p,A as l,c as u,o as n,N as m,P as d,m as c}from"./@vue_runtime-core@3.5.18-Bx_iA1Ob.js";import{u as _}from"./vue-i18n@11.1.10_vue@3.5.18_typescript@5.5.4_-CsgNkmMV.js";import{x as v,v as j,y as f}from"./@vue_reactivity@3.5.18-BEjiziYi.js";import{q as g,p as y}from"./@vue_shared@3.5.18-BWKBh1Qo.js";import{_ as h}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./@vue_runtime-dom@3.5.18-D95plCo_.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-CyTP3PVf.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-B6jvMh_s.js";import"./store@2.0.12-BfN7CKDu.js";import"./chardet@2.1.0-B0E1a5C9.js";import"./mitt@3.0.1-BeZB7Ik_.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.18_typescript@5.5.4_-DPB-daMN.js";import"./vue-router@4.5.1_vue@3.5.18_typescript@5.5.4_-LCN95BWb.js";import"./element-plus@2.10.2_vue@3.5.18_typescript@5.5.4_-C0B857f5.js";import"./@vueuse_shared@9.13.0_vue@3.5.18_typescript@5.5.4_-DyKSiD-b.js";import"./@vueuse_core@9.13.0_vue@3.5.18_typescript@5.5.4_-CQVfZnDR.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.18_typescript@5.5.4_-3DUFfuWD.js";import"./@sxzz_popperjs-es@2.11.7-CT_jBSb5.js";import"./@ctrl_tinycolor@3.6.1-D2oWfImC.js";import"./dayjs@1.11.13-DxKHiy_y.js";import"./async-validator@4.2.5-j0i5Y79Y.js";import"./memoize-one@6.0.0-BAtLgO95.js";import"./normalize-wheel-es@1.2.0-TzhA1irr.js";import"./@floating-ui_dom@1.7.2-CHufsicy.js";import"./@floating-ui_core@1.7.2-DWnBSKmT.js";import"./@floating-ui_utils@0.2.10-QZXVpxRV.js";import"./comm-D8jqGG-6.js";import"./element-plus@2.10.4_vue@3.5.18_typescript@5.5.4_-BKZsM6nW.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.18_echarts@5.6.0_vue@3.5.18_typescript@5.5.4_-He2CYVXX.js";import"./echarts@5.6.0-D5a_RdwN.js";import"./tslib@2.3.0-ZseNXxlj.js";import"./zrender@5.6.1-BkMfNy7l.js";import"./axios@1.11.0-C-1G2k3o.js";import"./nprogress@0.2.0-Sg3Wh2FH.js";import"./@intlify_core-base@11.1.10-C1bgUhoS.js";import"./@intlify_shared@11.1.10-BEv--mwN.js";import"./@intlify_message-compiler@11.1.10-JI08Nz38.js";const b={key:2,class:"upload-inner"},w=r({name:"undefined"}),F=h(r({...w,name:"cl-editor-wang",props:{modelValue:String,mode:{type:String,default:"default"},height:{type:[String,Number],default:500},disabled:Boolean,preview:Boolean,isSpace:{type:Boolean,default:!1}},emits:["update:modelValue","change","focus","blur"],setup(r,{emit:h}){const w=r,F=h,{refs:C,setRefs:N}=t(),{t:U}=_(),V=v(),x=j();a(()=>w.modelValue,e=>{x.value=e||""},{immediate:!0});const O={insertFn:null},S={placeholder:U("请输入"),MENU_CONF:{uploadImage:{},uploadVideo:{customBrowseAndUpload(e){O.insertFn=e,C.video.open()}}}};function B(e){V.value=e,A()}function E(e){F("focus",e)}function z(e){F("blur",e)}function k(){"<p><br></p>"==x.value&&(x.value=""),F("update:modelValue",x.value),F("change",x.value)}function I(e){i(e)||(e=[e]),e.length>0&&e.forEach(e=>{O.insertFn&&O.insertFn(e.url)})}function A(){var e,o;w.disabled||w.preview?null==(e=V.value)||e.disable():null==(o=V.value)||o.enable()}return w.isSpace?S.MENU_CONF.uploadImage.customBrowseAndUpload=e=>{O.insertFn=e,C.image.open()}:S.MENU_CONF.uploadImage.customUpload=(e,o)=>{O.insertFn=o,C.image.upload(e)},a(()=>[w.disabled,w.preview],A),p(()=>{const e=V.value;null!=e&&e.destroy()}),(t,i)=>{const a=l("cl-upload-space"),p=l("cl-upload");return n(),u("div",{ref:f(N)("editor"),class:y(["cl-editor-wang",{disabled:r.disabled}])},[r.preview?d("",!0):(n(),m(f(e),{key:0,editor:V.value,mode:r.mode},null,8,["editor","mode"])),c(f(o),{modelValue:x.value,"onUpdate:modelValue":i[0]||(i[0]=e=>x.value=e),"default-config":S,mode:r.mode,style:g({height:f(s)(r.height)}),onOnCreated:B,onOnFocus:E,onOnBlur:z,onOnChange:k},null,8,["modelValue","mode","style"]),c(a,{ref:f(N)("video"),accept:"video/*","show-btn":!1,onConfirm:I},null,512),r.isSpace?(n(),m(a,{key:1,ref:f(N)("image"),accept:"image/*","show-btn":!1,onConfirm:I},null,512)):(n(),u("div",b,[c(p,{ref:f(N)("image"),accept:"image/*",onSuccess:I},null,512)]))],2)}}}),[["__scopeId","data-v-bc4fb2c6"]]);export{F as default};
