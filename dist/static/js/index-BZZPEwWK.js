import{d as e}from"./vuedraggable@4.1.0_vue@3.5.18_typescript@5.5.4_-DM7RJheQ.js";import{s as t}from"./index-D3YIdvZh.js";import{J as o,K as r,v as s}from"./lodash-es@4.17.21-DuLBTDIG.js";import{d as i,v as p,w as u,A as a,c as l,o as m,m as n,O as c,R as d,a as _,p as v}from"./@vue_runtime-core@3.5.18-Bx_iA1Ob.js";import{v as j,y as f}from"./@vue_reactivity@3.5.18-BEjiziYi.js";import{P as y}from"./@vue_shared@3.5.18-BWKBh1Qo.js";import{_ as h}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./sortablejs@1.14.0-C-Ti-8jj.js";import"./chardet@2.1.0-B0E1a5C9.js";import"./@vue_runtime-dom@3.5.18-D95plCo_.js";import"./vue@3.5.18_typescript@5.5.4-Bb9RU4DZ.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-CyTP3PVf.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-B6jvMh_s.js";import"./store@2.0.12-BfN7CKDu.js";import"./mitt@3.0.1-BeZB7Ik_.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.18_typescript@5.5.4_-DPB-daMN.js";import"./vue-router@4.5.1_vue@3.5.18_typescript@5.5.4_-LCN95BWb.js";import"./element-plus@2.10.2_vue@3.5.18_typescript@5.5.4_-C0B857f5.js";import"./@vueuse_shared@9.13.0_vue@3.5.18_typescript@5.5.4_-DyKSiD-b.js";import"./@vueuse_core@9.13.0_vue@3.5.18_typescript@5.5.4_-CQVfZnDR.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.18_typescript@5.5.4_-3DUFfuWD.js";import"./@sxzz_popperjs-es@2.11.7-CT_jBSb5.js";import"./@ctrl_tinycolor@3.6.1-D2oWfImC.js";import"./dayjs@1.11.13-DxKHiy_y.js";import"./async-validator@4.2.5-j0i5Y79Y.js";import"./memoize-one@6.0.0-BAtLgO95.js";import"./normalize-wheel-es@1.2.0-TzhA1irr.js";import"./@floating-ui_dom@1.7.2-CHufsicy.js";import"./@floating-ui_core@1.7.2-DWnBSKmT.js";import"./@floating-ui_utils@0.2.10-QZXVpxRV.js";import"./comm-D8jqGG-6.js";import"./element-plus@2.10.4_vue@3.5.18_typescript@5.5.4_-BKZsM6nW.js";import"./vue-i18n@11.1.10_vue@3.5.18_typescript@5.5.4_-CsgNkmMV.js";import"./@intlify_core-base@11.1.10-C1bgUhoS.js";import"./@intlify_shared@11.1.10-BEv--mwN.js";import"./@intlify_message-compiler@11.1.10-JI08Nz38.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.18_echarts@5.6.0_vue@3.5.18_typescript@5.5.4_-He2CYVXX.js";import"./echarts@5.6.0-D5a_RdwN.js";import"./tslib@2.3.0-ZseNXxlj.js";import"./zrender@5.6.1-BkMfNy7l.js";import"./axios@1.11.0-C-1G2k3o.js";import"./nprogress@0.2.0-Sg3Wh2FH.js";const g={class:"cl-column-custom__wrap"},b={class:"cl-column-custom__dialog"},k={class:"left"},V=i({name:"undefined"}),x=h(i({...V,name:"cl-column-custom",props:{name:String,columns:{type:Array,required:!0,default:()=>[]}},emits:["update:modelValue","change"],setup(i,{expose:h,emit:V}){const x=i,N=j(!1),$=`column-custom__${x.name||location.pathname}`,z=j([]),C=p(()=>x.columns.filter(e=>!e.type&&e.prop));function w(){v(()=>{C.value.forEach(e=>{var t;e.hidden=!(null==(t=z.value.find(t=>t.prop==e.prop))?void 0:t.checked),e.orderNum=z.value.findIndex(t=>t.prop==e.prop)})})}function U(){t.set($,z.value),w(),q()}function E(){C.value.forEach(e=>{void 0!==e.orderNum&&(e.hidden=!1,e.orderNum=0)}),t.remove($),J(),q()}function I(){N.value=!0,J()}function q(){N.value=!1}function A(e){return s(e,"orderNum","asc")}function J(){if(!x.columns)return!1;const e=t.get($);z.value=A(C.value.map(t=>{var r;let s=!0,i=t.orderNum||0;return o(t.hidden)&&(s=!t.hidden),e&&(s=null==(r=e.find(e=>e.prop==t.prop))?void 0:r.checked,i=e.findIndex(e=>e.prop==t.prop)),{label:t.label,prop:t.prop,checked:s,orderNum:i}})),w()}return u(()=>x.columns,()=>{J()}),h({summary:function(e){return A(C.value.filter(e=>!e.hidden)).map(t=>r(e,t.prop)?e[t.prop]:"")}}),(t,o)=>{const r=a("el-button"),s=a("el-checkbox"),i=a("cl-dialog");return m(),l("div",g,[n(r,{onClick:I},{default:c(()=>[d(y(t.$t("自定义列")),1)]),_:1}),n(i,{modelValue:N.value,"onUpdate:modelValue":o[1]||(o[1]=e=>N.value=e),title:t.$t("自定义列")},{footer:c(()=>[n(r,{onClick:q},{default:c(()=>[d(y(t.$t("取消")),1)]),_:1}),n(r,{type:"danger",onClick:E},{default:c(()=>[d(y(t.$t("重置")),1)]),_:1}),n(r,{type:"success",onClick:U},{default:c(()=>[d(y(t.$t("保存")),1)]),_:1})]),default:c(()=>[_("div",b,[_("div",k,[n(f(e),{modelValue:z.value,"onUpdate:modelValue":o[0]||(o[0]=e=>z.value=e),"item-key":"prop"},{item:c(({element:e})=>[n(s,{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,border:""},{default:c(()=>[d(y(e.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"])]),o[2]||(o[2]=_("div",{class:"right"},null,-1))])]),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-3e8f17a5"]]);export{x as default};
