import{u as e}from"./index-D3YIdvZh.js";import"./store@2.0.12-BfN7CKDu.js";import{_ as t}from"./space-inner.vue_vue_type_style_index_0_lang-CV6YyU-_.js";import{B as s,x as i}from"./lodash-es@4.17.21-DuLBTDIG.js";import{d as l,v as o,e as r,w as a,A as p,c as u,o as m,M as n,N as c,P as _,m as d,O as v,R as j,C as f,F as y,p as h}from"./@vue_runtime-core@3.5.18-Bx_iA1Ob.js";import{u as g}from"./vue-i18n@11.1.10_vue@3.5.18_typescript@5.5.4_-CsgNkmMV.js";import{v as x,y as b}from"./@vue_reactivity@3.5.18-BEjiziYi.js";import{P as V}from"./@vue_shared@3.5.18-BWKBh1Qo.js";import{_ as w}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./@vue_runtime-dom@3.5.18-D95plCo_.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-CyTP3PVf.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-B6jvMh_s.js";import"./mitt@3.0.1-BeZB7Ik_.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.18_typescript@5.5.4_-DPB-daMN.js";import"./vue-router@4.5.1_vue@3.5.18_typescript@5.5.4_-LCN95BWb.js";import"./element-plus@2.10.2_vue@3.5.18_typescript@5.5.4_-C0B857f5.js";import"./@vueuse_shared@9.13.0_vue@3.5.18_typescript@5.5.4_-DyKSiD-b.js";import"./@vueuse_core@9.13.0_vue@3.5.18_typescript@5.5.4_-CQVfZnDR.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.18_typescript@5.5.4_-3DUFfuWD.js";import"./@sxzz_popperjs-es@2.11.7-CT_jBSb5.js";import"./@ctrl_tinycolor@3.6.1-D2oWfImC.js";import"./dayjs@1.11.13-DxKHiy_y.js";import"./chardet@2.1.0-B0E1a5C9.js";import"./async-validator@4.2.5-j0i5Y79Y.js";import"./memoize-one@6.0.0-BAtLgO95.js";import"./normalize-wheel-es@1.2.0-TzhA1irr.js";import"./@floating-ui_dom@1.7.2-CHufsicy.js";import"./@floating-ui_core@1.7.2-DWnBSKmT.js";import"./@floating-ui_utils@0.2.10-QZXVpxRV.js";import"./comm-D8jqGG-6.js";import"./element-plus@2.10.4_vue@3.5.18_typescript@5.5.4_-BKZsM6nW.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.18_echarts@5.6.0_vue@3.5.18_typescript@5.5.4_-He2CYVXX.js";import"./echarts@5.6.0-D5a_RdwN.js";import"./tslib@2.3.0-ZseNXxlj.js";import"./zrender@5.6.1-BkMfNy7l.js";import"./axios@1.11.0-C-1G2k3o.js";import"./nprogress@0.2.0-Sg3Wh2FH.js";import"./@intlify_core-base@11.1.10-C1bgUhoS.js";import"./@intlify_shared@11.1.10-BEv--mwN.js";import"./@intlify_message-compiler@11.1.10-JI08Nz38.js";import"./group-CbWLsH0h.js";import"./index-aA9QvOjo.js";const k={key:1,class:"cl-upload-space__list"},B=l({name:"undefined"}),C=w(l({...B,name:"cl-upload-space",props:{modelValue:[String,Array],title:String,text:String,multiple:{type:Boolean,default:!0},limit:{type:Number,default:9},accept:String,showBtn:{type:Boolean,default:!0},showList:{type:Boolean,default:!0}},emits:["update:modelValue","change","confirm"],setup(l,{expose:w,emit:B}){const{t:C}=g(),z=l,S=B,{refs:L,setRefs:U}=e(),$=x(!1),A=x({title:"",limit:9}),N=x([]),P=o(()=>{var e;return(null==(e=L.inner)?void 0:e.selection)||[]}),R=o(()=>z.text||C("选择文件"));function q(e){$.value=!0,A.value=s({...z,title:z.title||C("文件空间"),text:z.text||C("点击上传")},e),z.multiple||(A.value.limit=1),h(()=>{var e;null==(e=L.inner)||e.clear()})}function D(){$.value=!1}function E(e){const t=e||P.value;N.value=t.map(e=>e.url);const s=z.multiple?N.value:N.value[0];S("update:modelValue",s),S("change",s),S("confirm",t),D()}return r(()=>{a(()=>z.modelValue,e=>{e&&(N.value=i(e)?[e]:e)},{immediate:!0})}),w({open:q,close:D}),(e,s)=>{const i=p("el-button"),o=p("cl-upload"),r=p("cl-dialog");return m(),u(y,null,[n(e.$slots,"default",{},void 0,!0),l.showBtn?(m(),c(i,{key:0,onClick:q},{default:v(()=>[j(V(R.value),1)]),_:1})):_("",!0),N.value.length>0&&l.showList?(m(),u("div",k,[d(o,{modelValue:N.value,"onUpdate:modelValue":s[0]||(s[0]=e=>N.value=e),disabled:"",deletable:"",draggable:"",multiple:l.multiple},null,8,["modelValue","multiple"])])):_("",!0),d(r,{modelValue:$.value,"onUpdate:modelValue":s[2]||(s[2]=e=>$.value=e),title:A.value.title,height:"650px",width:"1070px",padding:"0","keep-alive":"",scrollbar:!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:v(()=>[d(i,{onClick:D},{default:v(()=>[j(V(e.$t("取消")),1)]),_:1}),d(i,{disabled:0==P.value.length,type:"success",onClick:s[1]||(s[1]=e=>E())},{default:v(()=>[j(V(e.$t("选择 {count}/{limit} 个",{count:P.value.length,limit:A.value.limit})),1)]),_:1},8,["disabled"])]),default:v(()=>[d(t,f({ref:b(U)("inner")},A.value,{onConfirm:E}),null,16)]),_:1},8,["modelValue","title"])],64)}}}),[["__scopeId","data-v-71e7e709"]]);export{C as default};
