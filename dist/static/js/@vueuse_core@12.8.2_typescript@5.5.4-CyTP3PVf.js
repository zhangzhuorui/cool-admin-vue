import{w as e,i as t,t as n,a,u as o,b as r,c as l,d as u,e as i,f as s,p as c,g as d,h as v,j as f}from"./@vueuse_shared@12.8.2_typescript@5.5.4-B6jvMh_s.js";import{z as p,y as m,x as y,v as g,l as h}from"./@vue_reactivity@3.5.18-BEjiziYi.js";import{v as w,w as b,e as S,g as k,x as C,y as A,p as N}from"./@vue_runtime-core@3.5.18-Bx_iA1Ob.js";const j=a?window:void 0,x=a?window.navigator:void 0;function D(e){var t;const n=p(e);return null!=(t=null==n?void 0:n.$el)?t:n}function E(...a){const o=[],l=()=>{o.forEach(e=>e()),o.length=0},u=w(()=>{const e=n(p(a[0])).filter(e=>null!=e);return e.every(e=>"string"!=typeof e)?e:void 0}),i=e(()=>{var e,t;return[null!=(t=null==(e=u.value)?void 0:e.map(e=>D(e)))?t:[j].filter(e=>null!=e),n(p(u.value?a[1]:a[0])),n(m(u.value?a[2]:a[1])),p(u.value?a[3]:a[2])]},([e,n,a,r])=>{if(l(),!(null==e?void 0:e.length)||!(null==n?void 0:n.length)||!(null==a?void 0:a.length))return;const u=t(r)?{...r}:r;o.push(...e.flatMap(e=>n.flatMap(t=>a.map(n=>((e,t,n,a)=>(e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)))(e,t,n,u)))))},{flush:"post"});return r(l),()=>{i(),l()}}function M(e){const t=function(){const e=y(!1),t=k();return t&&S(()=>{e.value=!0},t),e}();return w(()=>(t.value,Boolean(e())))}const O=Symbol("vueuse-ssr-width");function T(){const e=A()?d(O,null):null;return"number"==typeof e?e:void 0}function _(e,t={}){const{controls:n=!1,navigator:a=x}=t,o=M(()=>a&&"permissions"in a),r=y(),u="string"==typeof e?{name:e}:e,i=y(),s=()=>{var e,t;i.value=null!=(t=null==(e=r.value)?void 0:e.state)?t:"prompt"};E(r,"change",s,{passive:!0});const c=l(async()=>{if(o.value){if(!r.value)try{r.value=await a.permissions.query(u)}catch(e){r.value=void 0}finally{s()}return n?h(r.value):void 0}});return c(),n?{state:i,isSupported:o,query:c}:i}function z(e={}){const{navigator:t=x,read:n=!1,source:a,copiedDuring:r=1500,legacy:l=!1}=e,u=M(()=>t&&"clipboard"in t),i=_("clipboard-read"),s=_("clipboard-write"),c=w(()=>u.value||l),d=y(""),v=y(!1),f=o(()=>v.value=!1,r,{immediate:!1});function m(e){return"granted"===e||"prompt"===e}return c.value&&n&&E(["copy","cut"],async function(){let e=!(u.value&&m(i.value));if(!e)try{d.value=await t.clipboard.readText()}catch(r){e=!0}var n,a,o;e&&(d.value=null!=(o=null==(a=null==(n=null==document?void 0:document.getSelection)?void 0:n.call(document))?void 0:a.toString())?o:"")},{passive:!0}),{isSupported:c,text:d,copied:v,copy:async function(e=p(a)){if(c.value&&null!=e){let a=!(u.value&&m(s.value));if(!a)try{await t.clipboard.writeText(e)}catch(n){a=!0}a&&function(e){const t=document.createElement("textarea");t.value=null!=e?e:"",t.style.position="absolute",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}(e),d.value=e,v.value=!0,f.start()}}}}const I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},J="__vueuse_ssr_handlers__",L=F();function F(){return J in I||(I[J]=I[J]||{}),I[J]}function V(e,t){return L[e]||t}function q(e){return function(e,t={}){const{window:n=j,ssrWidth:a=T()}=t,o=M(()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia),r=y("number"==typeof a),l=y(),u=y(!1);return C(()=>{if(r.value){r.value=!o.value;const t=p(e).split(",");return void(u.value=t.some(e=>{const t=e.includes("not all"),n=e.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),o=e.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let r=Boolean(n||o);return n&&r&&(r=a>=c(n[1])),o&&r&&(r=a<=c(o[1])),t?!r:r}))}o.value&&(l.value=n.matchMedia(p(e)),u.value=l.value.matches)}),E(l,"change",e=>{u.value=e.matches},{passive:!0}),w(()=>u.value)}("(prefers-color-scheme: dark)",e)}const B={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function K(e,t,n,a={}){var o;const{flush:r="pre",deep:l=!0,listenToStorageChanges:u=!0,writeDefaults:c=!0,mergeDefaults:d=!1,shallow:v,window:f=j,eventFilter:m,onError:h=e=>{},initOnMounted:S}=a,k=(v?y:g)("function"==typeof t?t():t),C=w(()=>p(e));if(!n)try{n=V("getDefaultStorage",()=>{var e;return null==(e=j)?void 0:e.localStorage})()}catch(I){h(I)}if(!n)return k;const A=p(t),x=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(A),D=null!=(o=a.serializer)?o:B[x],{pause:M,resume:O}=s(k,()=>function(e){try{const t=n.getItem(C.value);if(null==e)T(t,null),n.removeItem(C.value);else{const a=D.write(e);t!==a&&(n.setItem(C.value,a),T(t,a))}}catch(I){h(I)}}(k.value),{flush:r,deep:l,eventFilter:m});function T(e,t){if(f){const a={key:C.value,oldValue:e,newValue:t,storageArea:n};f.dispatchEvent(n instanceof Storage?new StorageEvent("storage",a):new CustomEvent(H,{detail:a}))}}function _(e){if(!e||e.storageArea===n)if(e&&null==e.key)k.value=A;else if(!e||e.key===C.value){M();try{(null==e?void 0:e.newValue)!==D.write(k.value)&&(k.value=function(e){const t=e?e.newValue:n.getItem(C.value);if(null==t)return c&&null!=A&&n.setItem(C.value,D.write(A)),A;if(!e&&d){const e=D.read(t);return"function"==typeof d?d(e,A):"object"!==x||Array.isArray(e)?e:{...A,...e}}return"string"!=typeof t?t:D.read(t)}(e))}catch(I){h(I)}finally{e?N(O):O()}}}function z(e){_(e.detail)}return b(C,()=>_(),{flush:r}),f&&u&&i(()=>{n instanceof Storage?E(f,"storage",_,{passive:!0}):E(f,H,z),S&&_()}),S||_(),k}function P(e={}){const{valueDark:t="dark",valueLight:n=""}=e,a=function(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:o=j,storage:r,storageKey:l="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:c,emitAuto:d,disableTransition:v=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},p=q({window:o}),m=w(()=>p.value?"dark":"light"),y=c||(null==l?u(a):K(l,a,r,{window:o,listenToStorageChanges:s})),g=w(()=>"auto"===y.value?m.value:y.value),h=V("updateHTMLAttrs",(e,t,n)=>{const a="string"==typeof e?null==o?void 0:o.document.querySelector(e):D(e);if(!a)return;const r=new Set,l=new Set;let u,i=null;if("class"===t){const e=n.split(/\s/g);Object.values(f).flatMap(e=>(e||"").split(/\s/g)).filter(Boolean).forEach(t=>{e.includes(t)?r.add(t):l.add(t)})}else i={key:t,value:n};if(0!==r.size||0!==l.size||null!==i){v&&(u=o.document.createElement("style"),u.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),o.document.head.appendChild(u));for(const e of r)a.classList.add(e);for(const e of l)a.classList.remove(e);i&&a.setAttribute(i.key,i.value),v&&(o.getComputedStyle(u).opacity,document.head.removeChild(u))}});function S(e){var a;h(t,n,null!=(a=f[e])?a:e)}function k(t){e.onChanged?e.onChanged(t,S):S(t)}b(g,k,{flush:"post",immediate:!0}),i(()=>k(g.value));const C=w({get:()=>d?y.value:g.value,set(e){y.value=e}});return Object.assign(C,{store:y,system:m,state:g})}({...e,onChanged:(t,n)=>{var a;e.onChanged?null==(a=e.onChanged)||a.call(e,"dark"===t,n,t):n(t)},modes:{dark:t,light:n}}),o=w(()=>a.system.value);return w({get:()=>"dark"===a.value,set(e){const t=e?"dark":"light";o.value===t?a.value="auto":a.value=t}})}function R([e,t,n,a]){const o=(e,t)=>1-3*t+3*e,r=(e,t)=>3*t-6*e,l=e=>3*e,u=(e,t,n)=>((o(t,n)*e+r(t,n))*e+l(t))*e,i=(e,t,n)=>3*o(t,n)*e*e+2*r(t,n)*e+l(t);return o=>e===t&&n===a?o:u((t=>{let a=t;for(let o=0;o<4;++o){const o=i(a,e,n);if(0===o)return a;a-=(u(a,e,n)-t)/o}return a})(o),t,a)}function W(e,t,n){return e+n*(t-e)}function $(e){return("number"==typeof e?[e]:e)||[]}function G(e,t={}){let n=0;const a=()=>{const t=p(e);return"number"==typeof t?t:t.map(p)},o=g(a());return b(a,async e=>{var a,r;if(p(t.disabled))return;const l=++n;if(t.delay&&await v(p(t.delay)),l!==n)return;const u=Array.isArray(e)?e.map(p):p(e);null==(a=t.onStarted)||a.call(t),await function(e,t,n,a={}){var o,r;const l=p(t),u=p(n),i=$(l),s=$(u),c=null!=(o=p(a.duration))?o:1e3,d=Date.now(),v=Date.now()+c,m="function"==typeof a.transition?a.transition:null!=(r=p(a.transition))?r:f,y="function"==typeof m?m:R(m);return new Promise(t=>{e.value=l;const n=()=>{var o;if(null==(o=a.abort)?void 0:o.call(a))return void t();const r=Date.now(),l=y((r-d)/c),f=$(e.value).map((e,t)=>W(i[t],s[t],l));Array.isArray(e.value)?e.value=f.map((e,t)=>{var n,a;return W(null!=(n=i[t])?n:0,null!=(a=s[t])?a:0,l)}):"number"==typeof e.value&&(e.value=f[0]),r<v?requestAnimationFrame(n):(e.value=u,t())};n()})}(o,o.value,u,{...t,abort:()=>{var e;return l!==n||(null==(e=t.abort)?void 0:e.call(t))}}),null==(r=t.onFinished)||r.call(t)},{deep:!0}),b(()=>p(t.disabled),e=>{e&&(n++,o.value=a())}),r(()=>{n++}),w(()=>p(t.disabled)?a():o.value)}export{P as a,z as b,G as c,E as u};
